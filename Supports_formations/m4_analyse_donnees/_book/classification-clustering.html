<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 7 Classification (clustering) | Analyse des données multi-dimensionnelles</title>
  <meta name="description" content="Parcours de formation R - module 4" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 7 Classification (clustering) | Analyse des données multi-dimensionnelles" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Parcours de formation R - module 4" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 7 Classification (clustering) | Analyse des données multi-dimensionnelles" />
  
  <meta name="twitter:description" content="Parcours de formation R - module 4" />
  

<meta name="author" content="Vivien Roussez &amp; Pascal Irz" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lacm.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><p style="text-align:center;"><img src="https://www.alerte-sante-environnement-deontologie.fr/IMG/siteon0.svg?1550857332" style="width:150px;"/></p></li><li><a href="./">Exploration avancée des données</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#le-parcours-de-formation"><i class="fa fa-check"></i><b>1.1</b> Le parcours de formation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#objectifs-du-module-4"><i class="fa fa-check"></i><b>1.2</b> Objectifs du module 4</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Les analyses multivariées</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#objectifs"><i class="fa fa-check"></i><b>2.1</b> Objectifs</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#comment-synthetiser"><i class="fa fa-check"></i><b>2.2</b> Comment synthétiser ?</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#quelles-methodes"><i class="fa fa-check"></i><b>2.3</b> Quelles méthodes ?</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#lien-entre-ces-methodes"><i class="fa fa-check"></i><b>2.4</b> Lien entre ces méthodes</a></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#notion-de-distance"><i class="fa fa-check"></i><b>2.5</b> Notion de distance</a></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#questions-a-se-poser"><i class="fa fa-check"></i><b>2.6</b> Questions à se poser</a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#nature-des-variables"><i class="fa fa-check"></i><b>2.7</b> Nature des variables</a><ul>
<li class="chapter" data-level="2.7.1" data-path="intro.html"><a href="intro.html#variables-quantitatives"><i class="fa fa-check"></i><b>2.7.1</b> Variables quantitatives</a></li>
<li class="chapter" data-level="2.7.2" data-path="intro.html"><a href="intro.html#variables-qualitatives"><i class="fa fa-check"></i><b>2.7.2</b> Variables qualitatives</a></li>
<li class="chapter" data-level="2.7.3" data-path="intro.html"><a href="intro.html#entre-les-deux"><i class="fa fa-check"></i><b>2.7.3</b> Entre les deux</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#le-package-factominer"><i class="fa fa-check"></i><b>2.8</b> Le package FactoMineR</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="bien-commencer.html"><a href="bien-commencer.html"><i class="fa fa-check"></i><b>3</b> Bien commencer</a><ul>
<li class="chapter" data-level="3.1" data-path="bien-commencer.html"><a href="bien-commencer.html#creer-un-projet-sous-rstudio-pour-vous-permettre-de-recencer-vos-travaux."><i class="fa fa-check"></i><b>3.1</b> Créer un projet sous Rstudio pour vous permettre de recencer vos travaux.</a></li>
<li class="chapter" data-level="3.2" data-path="bien-commencer.html"><a href="bien-commencer.html#integrer-vos-donnees"><i class="fa fa-check"></i><b>3.2</b> Intégrer vos données</a></li>
<li class="chapter" data-level="3.3" data-path="bien-commencer.html"><a href="bien-commencer.html#creer-votre-arborescence-de-projet"><i class="fa fa-check"></i><b>3.3</b> Créer votre arborescence de projet</a></li>
<li class="chapter" data-level="3.4" data-path="bien-commencer.html"><a href="bien-commencer.html#activer-les-packages-necessaires"><i class="fa fa-check"></i><b>3.4</b> Activer les packages nécessaires</a></li>
<li class="chapter" data-level="3.5" data-path="bien-commencer.html"><a href="bien-commencer.html#bien-structurer-ses-projets-data"><i class="fa fa-check"></i><b>3.5</b> Bien structurer ses projets <em>data</em></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lacp.html"><a href="lacp.html"><i class="fa fa-check"></i><b>4</b> L’ACP</a><ul>
<li class="chapter" data-level="4.1" data-path="lacp.html"><a href="lacp.html#principe-de-lacp"><i class="fa fa-check"></i><b>4.1</b> Principe de l’ACP</a><ul>
<li class="chapter" data-level="4.1.1" data-path="lacp.html"><a href="lacp.html#type-de-donnees"><i class="fa fa-check"></i><b>4.1.1</b> Type de données</a></li>
<li class="chapter" data-level="4.1.2" data-path="lacp.html"><a href="lacp.html#objectifs-1"><i class="fa fa-check"></i><b>4.1.2</b> Objectifs</a></li>
<li class="chapter" data-level="4.1.3" data-path="lacp.html"><a href="lacp.html#methode"><i class="fa fa-check"></i><b>4.1.3</b> Méthode</a></li>
<li class="chapter" data-level="4.1.4" data-path="lacp.html"><a href="lacp.html#centrer---reduire"><i class="fa fa-check"></i><b>4.1.4</b> Centrer - réduire ?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="lacp.html"><a href="lacp.html#lacp-avec-factominer"><i class="fa fa-check"></i><b>4.2</b> L’ACP avec FactoMiner</a><ul>
<li class="chapter" data-level="4.2.1" data-path="lacp.html"><a href="lacp.html#ressources"><i class="fa fa-check"></i><b>4.2.1</b> Ressources</a></li>
<li class="chapter" data-level="4.2.2" data-path="lacp.html"><a href="lacp.html#exemple"><i class="fa fa-check"></i><b>4.2.2</b> Exemple</a></li>
<li class="chapter" data-level="4.2.3" data-path="lacp.html"><a href="lacp.html#reperer-un-effet-taille"><i class="fa fa-check"></i><b>4.2.3</b> Repérer un effet taille</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="lacp.html"><a href="lacp.html#exercice"><i class="fa fa-check"></i><b>4.3</b> Exercice</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lafc.html"><a href="lafc.html"><i class="fa fa-check"></i><b>5</b> L’AFC</a><ul>
<li class="chapter" data-level="5.1" data-path="lafc.html"><a href="lafc.html#principe-de-lafc"><i class="fa fa-check"></i><b>5.1</b> Principe de l’AFC</a></li>
<li class="chapter" data-level="5.2" data-path="lafc.html"><a href="lafc.html#lafc-avec-factominer"><i class="fa fa-check"></i><b>5.2</b> L’AFC avec FactoMiner</a><ul>
<li class="chapter" data-level="5.2.1" data-path="lafc.html"><a href="lafc.html#donnees-utilisees-1"><i class="fa fa-check"></i><b>5.2.1</b> Données utilisées</a></li>
<li class="chapter" data-level="5.2.2" data-path="lafc.html"><a href="lafc.html#realisation-de-lafc"><i class="fa fa-check"></i><b>5.2.2</b> Réalisation de l’AFC</a></li>
<li class="chapter" data-level="5.2.3" data-path="lafc.html"><a href="lafc.html#nombre-daxes-a-retenir-1"><i class="fa fa-check"></i><b>5.2.3</b> Nombre d’axes à retenir</a></li>
<li class="chapter" data-level="5.2.4" data-path="lafc.html"><a href="lafc.html#interpretation-des-axes"><i class="fa fa-check"></i><b>5.2.4</b> Interprétation des axes</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lafc.html"><a href="lafc.html#exercice-1"><i class="fa fa-check"></i><b>5.3</b> Exercice</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lacm.html"><a href="lacm.html"><i class="fa fa-check"></i><b>6</b> L’ACM</a><ul>
<li class="chapter" data-level="6.1" data-path="lacm.html"><a href="lacm.html#principe-de-lacm"><i class="fa fa-check"></i><b>6.1</b> Principe de l’ACM</a><ul>
<li class="chapter" data-level="6.1.1" data-path="lacm.html"><a href="lacm.html#le-tableau-disjonctif-complet"><i class="fa fa-check"></i><b>6.1.1</b> Le tableau disjonctif complet</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="lacm.html"><a href="lacm.html#ressources-1"><i class="fa fa-check"></i><b>6.2</b> Ressources</a></li>
<li class="chapter" data-level="6.3" data-path="lacm.html"><a href="lacm.html#lacm-avec-factominer"><i class="fa fa-check"></i><b>6.3</b> L’ACM avec FactoMiner</a><ul>
<li class="chapter" data-level="6.3.1" data-path="lacm.html"><a href="lacm.html#exemple-1"><i class="fa fa-check"></i><b>6.3.1</b> Exemple</a></li>
<li class="chapter" data-level="6.3.2" data-path="lacm.html"><a href="lacm.html#realisation-de-lacm"><i class="fa fa-check"></i><b>6.3.2</b> Réalisation de l’ACM</a></li>
<li class="chapter" data-level="6.3.3" data-path="lacm.html"><a href="lacm.html#variables-supplementaires"><i class="fa fa-check"></i><b>6.3.3</b> Variables supplémentaires</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="lacm.html"><a href="lacm.html#exercice-2"><i class="fa fa-check"></i><b>6.4</b> Exercice</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="classification-clustering.html"><a href="classification-clustering.html"><i class="fa fa-check"></i><b>7</b> Classification (clustering)</a><ul>
<li class="chapter" data-level="7.1" data-path="classification-clustering.html"><a href="classification-clustering.html#les-k-moyennes"><i class="fa fa-check"></i><b>7.1</b> Les k-moyennes</a><ul>
<li class="chapter" data-level="7.1.1" data-path="classification-clustering.html"><a href="classification-clustering.html#principe"><i class="fa fa-check"></i><b>7.1.1</b> Principe</a></li>
<li class="chapter" data-level="7.1.2" data-path="classification-clustering.html"><a href="classification-clustering.html#mise-en-oeuvre"><i class="fa fa-check"></i><b>7.1.2</b> Mise en oeuvre</a></li>
<li class="chapter" data-level="7.1.3" data-path="classification-clustering.html"><a href="classification-clustering.html#quelques-conseils"><i class="fa fa-check"></i><b>7.1.3</b> Quelques conseils</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="classification-clustering.html"><a href="classification-clustering.html#la-classification-ascendante-hierarchique-cah"><i class="fa fa-check"></i><b>7.2</b> La classification ascendante hiérarchique (CAH)</a><ul>
<li class="chapter" data-level="7.2.1" data-path="classification-clustering.html"><a href="classification-clustering.html#determination-du-nombre-de-classes"><i class="fa fa-check"></i><b>7.2.1</b> Détermination du nombre de classes</a></li>
<li class="chapter" data-level="7.2.2" data-path="classification-clustering.html"><a href="classification-clustering.html#description-des-classes"><i class="fa fa-check"></i><b>7.2.2</b> Description des classes</a></li>
<li class="chapter" data-level="7.2.3" data-path="classification-clustering.html"><a href="classification-clustering.html#quelques-conseils-pratiques"><i class="fa fa-check"></i><b>7.2.3</b> Quelques conseils pratiques</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="classification-clustering.html"><a href="classification-clustering.html#exercice-3"><i class="fa fa-check"></i><b>7.3</b> Exercice</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyse des données multi-dimensionnelles</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="classification-clustering" class="section level1">
<h1><span class="header-section-number">Chapitre 7</span> Classification (clustering)</h1>
<p>Les méthodes de classification (= de partitionnement) servent à délimiter des groupes d’individus, ou typologies, à partir des caractéristiques de ces individus. En particulier, elles visent à distinguer des ensembles au sein desquels les individus se ressemblent plus qu’ils ne ressemblent aux individus des autres groupes.</p>
<p>Il faut être prudent dans leur interprétation : le fait que la méthode réussisse à délimiter des groupes ne démontre en rien la pertinence du découpage (c’est-à-dire l’existence de discontinuités entre des groupes plutôt homogènes). Ce n’est pas parce que vous avez découpé, avec un couteau, une tarte en 5 parts, que ce découpage reflète des discontinuités antérieures. Les méthodes de classifications sont, en quelques sortes, des couteaux …</p>
<div id="les-k-moyennes" class="section level2">
<h2><span class="header-section-number">7.1</span> Les k-moyennes</h2>
<div id="principe" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Principe</h3>
<p>L’algorithme des k-moyennes (ou nuées dynamiques, k-means en anglais) consiste à regrouper les individus dans k classes les plus homogènes possibles. Son fonctionnement est très intuitif et il est très peu coûteux en termes de calcul :</p>
<ul>
<li>l’utilisateur choisit le nombre de classes <span class="math inline">\(k\)</span>.</li>
<li>l’algorithme prend k points aléatoires (les centres) dans le nuage de point des individus.</li>
<li>chaque individu est affecté au centre le plus proche.</li>
<li>on calcule le barycentre des points de chaque classe consitutée <span class="math inline">\(\rightarrow\)</span> les centres bougent.</li>
<li>on ré-affecte les individus au nouveau centre le plus proche</li>
<li>on répète les deux étapes précédentes jusqu’à ce que les barycentres ne “bougent plus”</li>
</ul>
<p>Cet algorithme fonctionne sur des variables <strong>quantitatives</strong> ; on peut le mobiliser sur les coordonnées factorielles des individus et donc l’appliquer sur des variables initialement qualitative (après avoir fait une ACM / AFC). En pratique, il converge assez rapidement et est donc très efficace, même sur de grands jeux de données.</p>
</div>
<div id="mise-en-oeuvre" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Mise en oeuvre</h3>
<p>Exemple sur les hobbies :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coord &lt;-<span class="st"> </span><span class="kw">as.data.frame</span> (acm<span class="op">$</span>ind<span class="op">$</span>coord)
classif &lt;-<span class="st"> </span><span class="kw">kmeans</span> (coord, <span class="dt">centers =</span> <span class="dv">4</span>)
<span class="kw">str</span> (classif)</code></pre></div>
<pre><code>## List of 9
##  $ cluster     : Named int [1:8403] 4 2 3 3 3 1 3 3 4 3 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:8403] &quot;11000210&quot; &quot;11000410&quot; &quot;11000610&quot; &quot;11000710&quot; ...
##  $ centers     : num [1:4, 1:4] -0.4726 -0.052 0.0752 0.6304 -0.053 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:4] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;
##   .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##  $ totss       : num 3473
##  $ withinss    : num [1:4] 470 489 324 439
##  $ tot.withinss: num 1721
##  $ betweenss   : num 1752
##  $ size        : int [1:4] 2579 2019 1936 1869
##  $ iter        : int 6
##  $ ifault      : int 0
##  - attr(*, &quot;class&quot;)= chr &quot;kmeans&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Taille des clusters</span>
<span class="kw">table</span> (classif<span class="op">$</span>cluster)</code></pre></div>
<pre><code>## 
##    1    2    3    4 
## 2579 2019 1936 1869</code></pre>
<p>Remarques :</p>
<ul>
<li>Le nombre de classes est choisi de façon arbitraire (comment savoir si ce nombre est correct ?).</li>
<li>Les résultats changent selon les points initiaux choisis <span class="math inline">\(\Rightarrow\)</span> 2 exécutions consécutives donneront 2 résultats différents ! Deux solutions pour avoir tout le temps le même résultat :
<ul>
<li>fournir les centres initiaux à l’algorithme.</li>
<li>fixer la “graine” du générateur de nombres aléatoires.</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># initialisation des centres avec les quintiles (ça fait 4 points)</span>
<span class="co"># Avec du R de base hyper efficace ^^ </span>
init &lt;-<span class="st"> </span><span class="kw">sapply</span> (coord, <span class="cf">function</span>(x) <span class="kw">quantile</span> (x, <span class="kw">seq</span>(.<span class="dv">2</span>,.<span class="dv">8</span>,.<span class="dv">2</span>)))
classif &lt;-<span class="st"> </span><span class="kw">kmeans</span> (coord, <span class="dt">centers =</span> init)
<span class="co"># initialisation du générateur de nombres aléatoires</span>
<span class="kw">set.seed</span> (<span class="dv">1234</span>)
classif &lt;-<span class="st"> </span><span class="kw">kmeans</span> (coord, <span class="dt">centers =</span> <span class="dv">4</span>)</code></pre></div>
<p>Pour récupérer les résultat dans son <em>dataframe</em>, il suffit de rajouter le vecteur résultat dans le <em>dataframe</em> initial :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span> (coord) &lt;-<span class="st"> </span><span class="kw">paste</span> (<span class="st">&quot;Axe&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
coord &lt;-<span class="st"> </span><span class="kw">mutate</span> (coord, <span class="dt">classe =</span> <span class="kw">as.factor</span> (classif<span class="op">$</span>cluster))
<span class="kw">ggplot</span> (coord, <span class="kw">aes</span> (<span class="dt">x =</span> Axe1, <span class="dt">y =</span> Axe2, <span class="dt">color =</span> classe)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-37-1.png" width="576" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span> (coord, <span class="kw">aes</span> (<span class="dt">x =</span> Axe3, <span class="dt">y =</span> Axe4, <span class="dt">color =</span> classe)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-37-2.png" width="576" /></p>
<p>Ici on remarque que les classes 2 et 3 s’opposent sur le premier plan factoriel : la classe 2 est plutôt du côté des personnes ayant peu de hobbies, à l’inverse de la classe 3 est composée d’individus ayant des occupations plutôt culturelles. Les classes 1 et 4 sont opposées sur l’axe 3, ce qui signifie que la 1 regroupe des individus aux loisirs plutôt domestiques et la 4 des individus ayant des loisirs de plein air.</p>
</div>
<div id="quelques-conseils" class="section level3">
<h3><span class="header-section-number">7.1.3</span> Quelques conseils</h3>
<p>Pour décrire les classes, on peut, en plus de la représentation sur les axes factoriels, faire un tableau croisé de cette nouvelle variable avec les variables initiales qualitatives ou calculer des rapports de corrélations avec les variables initiales quantitatives.</p>
<p>Pour choisir le nombre de classes, on peut :</p>
<ul>
<li>tester plusieurs configuratons et choisir celle qui est la plus “parlante” (on est dans du descriptif, ne pas l’oublier !)</li>
<li>faire plusieurs classifications et choisir la meilleure au sens d’un indicateur du type <span class="math inline">\(\dfrac{1}{k} \dfrac{SS_{inter}}{SS_{total}}\)</span></li>
<li>repérer le nombre optimal avec une CAH</li>
</ul>
</div>
</div>
<div id="la-classification-ascendante-hierarchique-cah" class="section level2">
<h2><span class="header-section-number">7.2</span> La classification ascendante hiérarchique (CAH)</h2>
<p>Pourquoi cet acronyme ?</p>
<ul>
<li>Classification : on regroupe nos individus dans des classes</li>
<li>Ascendante : on part du niveau le plus fin (ie des individus)</li>
<li>Hiérarchique : la méthode aboutit à la construction d’un arbre</li>
</ul>
<p>Comment faire : Regrouper les individus les plus proches deux à deux, puis les paquets d’individus deux à deux.</p>
<ul>
<li>Notion de distance pour déterminer les <em>proximités</em></li>
<li>Agrégation des individus puis des groupes d’individus : <em>métrique</em> et <em>hypermétrique</em></li>
</ul>
<p><strong>On cherche le nombre optimal de classes d’individus</strong>, et pour parvenir à ce nombre, on peut jouer sur plusieurs paramètres :</p>
<ul>
<li>Choix des variables prises en compte : initiales ou composantes principales</li>
<li>Choix de la distance : euclidienne, <span class="math inline">\(\chi^2\)</span>, Mahalanobis…</li>
<li>Choix de l’hypermétrique : Comment vont être regroupés les individus puis les groupes :
<ul>
<li>centres de gravité les plus proches</li>
<li>saut minimum : on agrège les deux groupes pour lesquels la distance entre les deux individus les plus proches est la plus petite</li>
<li>diamètre : on agrège les deux groupes pour lesquels la distance entre les deux individus les plus éloignés est la plus petite</li>
</ul></li>
</ul>
<p>Plus de détails sur <a href="http://maths.cnam.fr/IMG/pdf/Classification-2008-2.pdf">cette page</a></p>
<p>En général, on utilise le paramétrage suivant :</p>
<ul>
<li>Réaliser la classification à partir des composantes principales signifiantes (on prend en compte l’essentiel de l’inertie mais on laisse de côté un certain “bruit”, qui correspond aux derniers axes factoriels)</li>
<li>Utiliser la distance euclidienne classique</li>
<li>Utiliser la méthode de Ward : à chaque étape, agréger les individus (groupes) font perdre le moins <em>d’inertie inter-classes</em></li>
</ul>
<p><span class="math inline">\(\Rightarrow\)</span> la fonction <code>HCPC</code> du package factominer le fait directement pour vous.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hc &lt;-<span class="st"> </span><span class="kw">HCPC</span> (acm, <span class="dt">nb.clust =</span> <span class="dv">5</span>, <span class="dt">graph=</span>F)
<span class="kw">str</span>(hc)</code></pre></div>
<pre><code>## List of 5
##  $ data.clust:&#39;data.frame&#39;:  8403 obs. of  24 variables:
##   ..$ Reading        : Factor w/ 2 levels &quot;Reading_0&quot;,&quot;Reading_1&quot;: 2 2 2 2 2 1 1 2 2 2 ...
##   ..$ Listening music: Factor w/ 2 levels &quot;Listening music_0&quot;,..: 2 1 2 1 2 1 2 2 2 2 ...
##   ..$ Cinema         : Factor w/ 2 levels &quot;Cinema_0&quot;,&quot;Cinema_1&quot;: 2 1 1 1 2 1 1 2 2 2 ...
##   ..$ Show           : Factor w/ 2 levels &quot;Show_0&quot;,&quot;Show_1&quot;: 2 1 1 1 2 1 1 2 2 1 ...
##   ..$ Exhibition     : Factor w/ 2 levels &quot;Exhibition_0&quot;,..: 2 2 2 2 1 1 1 2 1 2 ...
##   ..$ Computer       : Factor w/ 2 levels &quot;Computer_0&quot;,&quot;Computer_1&quot;: 1 1 1 1 1 1 2 2 2 1 ...
##   ..$ Sport          : Factor w/ 2 levels &quot;Sport_0&quot;,&quot;Sport_1&quot;: 2 2 1 2 1 1 2 1 2 1 ...
##   ..$ Walking        : Factor w/ 2 levels &quot;Walking_0&quot;,&quot;Walking_1&quot;: 2 2 1 1 2 1 1 1 2 1 ...
##   ..$ Travelling     : Factor w/ 2 levels &quot;Travelling_0&quot;,..: 2 1 2 2 1 1 1 2 2 1 ...
##   ..$ Playing music  : Factor w/ 2 levels &quot;Playing music_0&quot;,..: 1 1 1 1 1 1 1 1 2 2 ...
##   ..$ Collecting     : Factor w/ 2 levels &quot;Collecting_0&quot;,..: 1 2 1 1 1 1 1 1 1 1 ...
##   ..$ Volunteering   : Factor w/ 2 levels &quot;Volunteering_0&quot;,..: 2 2 1 1 1 1 1 1 1 1 ...
##   ..$ Mechanic       : Factor w/ 2 levels &quot;Mechanic_0&quot;,&quot;Mechanic_1&quot;: 2 2 1 1 1 2 2 1 1 2 ...
##   ..$ Gardening      : Factor w/ 2 levels &quot;Gardening_0&quot;,..: 1 2 1 1 1 1 1 1 1 2 ...
##   ..$ Knitting       : Factor w/ 2 levels &quot;Knitting_0&quot;,&quot;Knitting_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Cooking        : Factor w/ 2 levels &quot;Cooking_0&quot;,&quot;Cooking_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Fishing        : Factor w/ 2 levels &quot;Fishing_0&quot;,&quot;Fishing_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ TV             : Factor w/ 5 levels &quot;TV_0&quot;,&quot;TV_1&quot;,..: 3 5 5 2 4 4 4 1 2 2 ...
##   ..$ Sex            : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 1 2 1 2 2 2 2 2 1 1 ...
##   ..$ Age            : Factor w/ 8 levels &quot;(25,35]&quot;,&quot;(35,45]&quot;,..: 4 3 1 6 4 3 2 8 2 1 ...
##   ..$ Marital status : Factor w/ 5 levels &quot;Divorcee&quot;,&quot;Married&quot;,..: 2 2 3 2 2 2 2 4 4 4 ...
##   ..$ Profession     : Factor w/ 8 levels &quot;Employee&quot;,&quot;Foreman&quot;,..: 3 6 3 6 1 4 1 6 3 1 ...
##   ..$ nb.activitees  : int [1:8403] 11 9 5 5 6 2 5 7 10 8 ...
##   ..$ clust          : Factor w/ 5 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,..: 5 3 4 4 4 1 4 4 5 4 ...
##  $ desc.var  :List of 5
##   ..$ test.chi2 : num [1:22, 1:2] 0 0 0 0 0 0 0 0 0 0 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:22] &quot;Reading&quot; &quot;Listening.music&quot; &quot;Cinema&quot; &quot;Show&quot; ...
##   .. .. ..$ : chr [1:2] &quot;p.value&quot; &quot;df&quot;
##   ..$ category  :List of 5
##   .. ..$ 1: num [1:54, 1:5] 39.4 56.3 40 36.3 38.7 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:54] &quot;Computer=Computer_0&quot; &quot;Listening.music=Listening music_0&quot; &quot;Cinema=Cinema_0&quot; &quot;Exhibition=Exhibition_0&quot; ...
##   .. .. .. ..$ : chr [1:5] &quot;Cla/Mod&quot; &quot;Mod/Cla&quot; &quot;Global&quot; &quot;p.value&quot; ...
##   .. ..$ 2: num [1:56, 1:5] 60.9 26.7 28.6 23.9 24.1 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:56] &quot;Knitting=Knitting_1&quot; &quot;Sex=F&quot; &quot;Cooking=Cooking_1&quot; &quot;Sport=Sport_0&quot; ...
##   .. .. .. ..$ : chr [1:5] &quot;Cla/Mod&quot; &quot;Mod/Cla&quot; &quot;Global&quot; &quot;p.value&quot; ...
##   .. ..$ 3: num [1:51, 1:5] 68.3 29.6 28.6 25.8 17.9 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:51] &quot;Fishing=Fishing_1&quot; &quot;Mechanic=Mechanic_1&quot; &quot;Gardening=Gardening_1&quot; &quot;Sex=M&quot; ...
##   .. .. .. ..$ : chr [1:5] &quot;Cla/Mod&quot; &quot;Mod/Cla&quot; &quot;Global&quot; &quot;p.value&quot; ...
##   .. ..$ 4: num [1:46, 1:5] 31 36.4 26.7 33.4 50.2 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:46] &quot;Gardening=Gardening_0&quot; &quot;Cinema=Cinema_1&quot; &quot;Listening.music=Listening music_1&quot; &quot;Computer=Computer_1&quot; ...
##   .. .. .. ..$ : chr [1:5] &quot;Cla/Mod&quot; &quot;Mod/Cla&quot; &quot;Global&quot; &quot;p.value&quot; ...
##   .. ..$ 5: num [1:58, 1:5] 44.4 54.2 54.2 43 41.6 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:58] &quot;Travelling=Travelling_1&quot; &quot;Exhibition=Exhibition_1&quot; &quot;Show=Show_1&quot; &quot;Cinema=Cinema_1&quot; ...
##   .. .. .. ..$ : chr [1:5] &quot;Cla/Mod&quot; &quot;Mod/Cla&quot; &quot;Global&quot; &quot;p.value&quot; ...
##   ..$ quanti.var: num [1, 1:2] 0.764 0
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr &quot;nb.activitees&quot;
##   .. .. ..$ : chr [1:2] &quot;Eta2&quot; &quot;P-value&quot;
##   ..$ quanti    :List of 5
##   .. ..$ 1: num [1, 1:6] -63.37 2.95 6.87 1.23 3.38 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr &quot;nb.activitees&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   .. ..$ 2: NULL
##   .. ..$ 3: NULL
##   .. ..$ 4: NULL
##   .. ..$ 5: num [1, 1:6] 66.17 11.59 6.87 1.72 3.38 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr &quot;nb.activitees&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   ..$ call      :List of 3
##   .. ..$ num.var: int 24
##   .. ..$ proba  : num 0.05
##   .. ..$ row.w  : num [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;catdes&quot; &quot;list &quot;
##  $ desc.axes :List of 3
##   ..$ quanti.var: num [1:4, 1:2] 0.776 0.506 0.476 0.128 0 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:4] &quot;Dim.1&quot; &quot;Dim.2&quot; &quot;Dim.3&quot; &quot;Dim.4&quot;
##   .. .. ..$ : chr [1:2] &quot;Eta2&quot; &quot;P-value&quot;
##   ..$ quanti    :List of 5
##   .. ..$ 1: num [1:4, 1:6] 21.0736 1.9726 -18.5427 -59.571 0.0965 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:4] &quot;Dim.4&quot; &quot;Dim.3&quot; &quot;Dim.2&quot; &quot;Dim.1&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   .. ..$ 2: num [1:4, 1:6] 37.238 -4.5 -8.356 -48.933 0.255 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:4] &quot;Dim.2&quot; &quot;Dim.4&quot; &quot;Dim.1&quot; &quot;Dim.3&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   .. ..$ 3: num [1:4, 1:6] 48.528 35.131 -7.715 -15.363 0.335 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:4] &quot;Dim.3&quot; &quot;Dim.2&quot; &quot;Dim.1&quot; &quot;Dim.4&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   .. ..$ 4: num [1:4, 1:6] 10.3386 -2.5593 -20.7593 -47.4864 0.0991 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:4] &quot;Dim.1&quot; &quot;Dim.3&quot; &quot;Dim.4&quot; &quot;Dim.2&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   .. ..$ 5: num [1:3, 1:6] 68.5649 15.4312 2.7695 0.6434 0.0817 ...
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:3] &quot;Dim.1&quot; &quot;Dim.4&quot; &quot;Dim.3&quot;
##   .. .. .. ..$ : chr [1:6] &quot;v.test&quot; &quot;Mean in category&quot; &quot;Overall mean&quot; &quot;sd in category&quot; ...
##   ..$ call      :List of 3
##   .. ..$ num.var: int 5
##   .. ..$ proba  : num 0.05
##   .. ..$ row.w  : num [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;catdes&quot; &quot;list &quot;
##  $ call      :List of 8
##   ..$ t               :List of 6
##   .. ..$ res       :List of 7
##   .. .. ..$ eig       : num [1:21, 1:3] 0.1977 0.0806 0.072 0.0629 0.0585 ...
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:21] &quot;dim 1&quot; &quot;dim 2&quot; &quot;dim 3&quot; &quot;dim 4&quot; ...
##   .. .. .. .. ..$ : chr [1:3] &quot;eigenvalue&quot; &quot;percentage of variance&quot; &quot;cumulative percentage of variance&quot;
##   .. .. ..$ call      :List of 14
##   .. .. .. ..$ X         :&#39;data.frame&#39;:  8403 obs. of  23 variables:
##   .. .. .. .. ..$ Reading        : Factor w/ 2 levels &quot;Reading_0&quot;,&quot;Reading_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Listening music: Factor w/ 2 levels &quot;Listening music_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Cinema         : Factor w/ 2 levels &quot;Cinema_0&quot;,&quot;Cinema_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Show           : Factor w/ 2 levels &quot;Show_0&quot;,&quot;Show_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Exhibition     : Factor w/ 2 levels &quot;Exhibition_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Computer       : Factor w/ 2 levels &quot;Computer_0&quot;,&quot;Computer_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Sport          : Factor w/ 2 levels &quot;Sport_0&quot;,&quot;Sport_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Walking        : Factor w/ 2 levels &quot;Walking_0&quot;,&quot;Walking_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Travelling     : Factor w/ 2 levels &quot;Travelling_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Playing music  : Factor w/ 2 levels &quot;Playing music_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Collecting     : Factor w/ 2 levels &quot;Collecting_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Volunteering   : Factor w/ 2 levels &quot;Volunteering_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Mechanic       : Factor w/ 2 levels &quot;Mechanic_0&quot;,&quot;Mechanic_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Gardening      : Factor w/ 2 levels &quot;Gardening_0&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Knitting       : Factor w/ 2 levels &quot;Knitting_0&quot;,&quot;Knitting_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Cooking        : Factor w/ 2 levels &quot;Cooking_0&quot;,&quot;Cooking_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Fishing        : Factor w/ 2 levels &quot;Fishing_0&quot;,&quot;Fishing_1&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ TV             : Factor w/ 5 levels &quot;TV_0&quot;,&quot;TV_1&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Sex            : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 1 2 1 1 2 2 1 1 1 1 ...
##   .. .. .. .. ..$ Age            : Factor w/ 8 levels &quot;(25,35]&quot;,&quot;(35,45]&quot;,..: 6 1 5 3 7 5 7 5 3 4 ...
##   .. .. .. .. ..$ Marital status : Factor w/ 5 levels &quot;Divorcee&quot;,&quot;Married&quot;,..: 3 4 5 2 5 2 5 5 1 2 ...
##   .. .. .. .. ..$ Profession     : Factor w/ 8 levels &quot;Employee&quot;,&quot;Foreman&quot;,..: 3 6 1 4 6 8 6 8 1 6 ...
##   .. .. .. .. ..$ nb.activitees  : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. ..$ marge.col : Named num [1:39] 0.0182 0.0373 0.0162 0.0393 0.0333 ...
##   .. .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:39] &quot;Reading_0&quot; &quot;Reading_1&quot; &quot;Listening music_0&quot; &quot;Listening music_1&quot; ...
##   .. .. .. ..$ marge.row : Named num [1:8403] 0.000119 0.000119 0.000119 0.000119 0.000119 ...
##   .. .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:8403] &quot;11000210&quot; &quot;11000410&quot; &quot;11000610&quot; &quot;11000710&quot; ...
##   .. .. .. ..$ ncp       : num 4
##   .. .. .. ..$ row.w     : num [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. ..$ excl      : NULL
##   .. .. .. ..$ call      : language MCA(X = hobbies, ncp = 4, quanti.sup = 23, quali.sup = 19:22, graph = F)
##   .. .. .. ..$ Xtot      :&#39;data.frame&#39;:  8403 obs. of  62 variables:
##   .. .. .. .. ..$ Reading_0        : int [1:8403] 0 0 0 0 0 1 1 0 0 0 ...
##   .. .. .. .. ..$ Reading_1        : int [1:8403] 1 1 1 1 1 0 0 1 1 1 ...
##   .. .. .. .. ..$ Listening music_0: int [1:8403] 0 1 0 1 0 1 0 0 0 0 ...
##   .. .. .. .. ..$ Listening music_1: int [1:8403] 1 0 1 0 1 0 1 1 1 1 ...
##   .. .. .. .. ..$ Cinema_0         : int [1:8403] 0 1 1 1 0 1 1 0 0 0 ...
##   .. .. .. .. ..$ Cinema_1         : int [1:8403] 1 0 0 0 1 0 0 1 1 1 ...
##   .. .. .. .. ..$ Show_0           : int [1:8403] 0 1 1 1 0 1 1 0 0 1 ...
##   .. .. .. .. ..$ Show_1           : int [1:8403] 1 0 0 0 1 0 0 1 1 0 ...
##   .. .. .. .. ..$ Exhibition_0     : int [1:8403] 0 0 0 0 1 1 1 0 1 0 ...
##   .. .. .. .. ..$ Exhibition_1     : int [1:8403] 1 1 1 1 0 0 0 1 0 1 ...
##   .. .. .. .. ..$ Computer_0       : int [1:8403] 1 1 1 1 1 1 0 0 0 1 ...
##   .. .. .. .. ..$ Computer_1       : int [1:8403] 0 0 0 0 0 0 1 1 1 0 ...
##   .. .. .. .. ..$ Sport_0          : int [1:8403] 0 0 1 0 1 1 0 1 0 1 ...
##   .. .. .. .. ..$ Sport_1          : int [1:8403] 1 1 0 1 0 0 1 0 1 0 ...
##   .. .. .. .. ..$ Walking_0        : int [1:8403] 0 0 1 1 0 1 1 1 0 1 ...
##   .. .. .. .. ..$ Walking_1        : int [1:8403] 1 1 0 0 1 0 0 0 1 0 ...
##   .. .. .. .. ..$ Travelling_0     : int [1:8403] 0 1 0 0 1 1 1 0 0 1 ...
##   .. .. .. .. ..$ Travelling_1     : int [1:8403] 1 0 1 1 0 0 0 1 1 0 ...
##   .. .. .. .. ..$ Playing music_0  : int [1:8403] 1 1 1 1 1 1 1 1 0 0 ...
##   .. .. .. .. ..$ Playing music_1  : int [1:8403] 0 0 0 0 0 0 0 0 1 1 ...
##   .. .. .. .. ..$ Collecting_0     : int [1:8403] 1 0 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Collecting_1     : int [1:8403] 0 1 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Volunteering_0   : int [1:8403] 0 0 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Volunteering_1   : int [1:8403] 1 1 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Mechanic_0       : int [1:8403] 0 0 1 1 1 0 0 1 1 0 ...
##   .. .. .. .. ..$ Mechanic_1       : int [1:8403] 1 1 0 0 0 1 1 0 0 1 ...
##   .. .. .. .. ..$ Gardening_0      : int [1:8403] 1 0 1 1 1 1 1 1 1 0 ...
##   .. .. .. .. ..$ Gardening_1      : int [1:8403] 0 1 0 0 0 0 0 0 0 1 ...
##   .. .. .. .. ..$ Knitting_0       : int [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Knitting_1       : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Cooking_0        : int [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Cooking_1        : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Fishing_0        : int [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. .. .. ..$ Fishing_1        : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ TV_0             : int [1:8403] 0 0 0 0 0 0 0 1 0 0 ...
##   .. .. .. .. ..$ TV_1             : int [1:8403] 0 0 0 1 0 0 0 0 1 1 ...
##   .. .. .. .. ..$ TV_2             : int [1:8403] 1 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ TV_3             : int [1:8403] 0 0 0 0 1 1 1 0 0 0 ...
##   .. .. .. .. ..$ TV_4             : int [1:8403] 0 1 1 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ F                : int [1:8403] 1 0 1 0 0 0 0 0 1 1 ...
##   .. .. .. .. ..$ M                : int [1:8403] 0 1 0 1 1 1 1 1 0 0 ...
##   .. .. .. .. ..$ (25,35]          : int [1:8403] 0 0 1 0 0 0 0 0 0 1 ...
##   .. .. .. .. ..$ (35,45]          : int [1:8403] 0 0 0 0 0 0 1 0 1 0 ...
##   .. .. .. .. ..$ (45,55]          : int [1:8403] 0 1 0 0 0 1 0 0 0 0 ...
##   .. .. .. .. ..$ (55,65]          : int [1:8403] 1 0 0 0 1 0 0 0 0 0 ...
##   .. .. .. .. ..$ (65,75]          : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ (75,85]          : int [1:8403] 0 0 0 1 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ (85,100]         : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ [15,25]          : int [1:8403] 0 0 0 0 0 0 0 1 0 0 ...
##   .. .. .. .. ..$ Divorcee         : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Married          : int [1:8403] 1 1 0 1 1 1 1 0 0 0 ...
##   .. .. .. .. ..$ Remarried        : int [1:8403] 0 0 1 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Single           : int [1:8403] 0 0 0 0 0 0 0 1 1 1 ...
##   .. .. .. .. ..$ Widower          : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Employee         : int [1:8403] 0 0 0 0 1 0 1 0 0 1 ...
##   .. .. .. .. ..$ Foreman          : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Management       : int [1:8403] 1 0 1 0 0 0 0 0 1 0 ...
##   .. .. .. .. ..$ Manual labourer  : int [1:8403] 0 0 0 0 0 1 0 0 0 0 ...
##   .. .. .. .. ..$ Other            : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Profession.NA    : int [1:8403] 0 1 0 1 0 0 0 1 0 0 ...
##   .. .. .. .. ..$ Technician       : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. .. ..$ Unskilled worker : int [1:8403] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. .. ..$ N         : num 151254
##   .. .. .. ..$ col.sup   : int [1:23] 40 41 42 43 44 45 46 47 48 49 ...
##   .. .. .. ..$ quali     : int [1:18] 1 2 3 4 5 6 7 8 9 10 ...
##   .. .. .. ..$ quali.sup : int [1:4] 19 20 21 22
##   .. .. .. ..$ quanti.sup: num 23
##   .. .. .. ..$ row.w.init: num [1:8403] 1 1 1 1 1 1 1 1 1 1 ...
##   .. .. ..$ ind       :List of 3
##   .. .. .. ..$ coord  :&#39;data.frame&#39;: 8403 obs. of  4 variables:
##   .. .. .. .. ..$ Dim 1: num [1:8403] -0.791 -0.791 -0.791 -0.791 -0.791 ...
##   .. .. .. .. ..$ Dim 2: num [1:8403] -0.247 -0.247 -0.247 -0.247 -0.247 ...
##   .. .. .. .. ..$ Dim 3: num [1:8403] 0.108 0.108 0.108 0.108 0.108 ...
##   .. .. .. .. ..$ Dim 4: num [1:8403] 0.476 0.476 0.476 0.476 0.476 ...
##   .. .. .. ..$ contrib: num [1:8403, 1:4] 2.68e-02 1.17e-03 1.45e-03 6.99e-04 2.78e-05 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:8403] &quot;11000210&quot; &quot;11000410&quot; &quot;11000610&quot; &quot;11000710&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ cos2   : num [1:8403, 1:4] 0.335743 0.011164 0.031778 0.010507 0.000558 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:8403] &quot;11000210&quot; &quot;11000410&quot; &quot;11000610&quot; &quot;11000710&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. ..$ var       :List of 5
##   .. .. .. ..$ coord  : num [1:39, 1:4] -0.699 0.341 -0.817 0.337 -0.509 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:39] &quot;Reading_0&quot; &quot;Reading_1&quot; &quot;Listening music_0&quot; &quot;Listening music_1&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ contrib: num [1:39, 1:4] 4.5 2.2 5.48 2.26 4.37 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:39] &quot;Reading_0&quot; &quot;Reading_1&quot; &quot;Listening music_0&quot; &quot;Listening music_1&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ cos2   : num [1:39, 1:4] 0.239 0.239 0.275 0.275 0.389 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:39] &quot;Reading_0&quot; &quot;Reading_1&quot; &quot;Listening music_0&quot; &quot;Listening music_1&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ v.test : num [1:39, 1:4] -44.8 44.8 -48.1 48.1 -57.2 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:39] &quot;Reading_0&quot; &quot;Reading_1&quot; &quot;Listening music_0&quot; &quot;Listening music_1&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ eta2   : num [1:18, 1:4] 0.239 0.275 0.389 0.383 0.399 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:18] &quot;Reading&quot; &quot;Listening music&quot; &quot;Cinema&quot; &quot;Show&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. ..$ svd       :List of 3
##   .. .. .. ..$ vs: num [1:39] 0.445 0.284 0.268 0.251 0.242 ...
##   .. .. .. ..$ U : num [1:8403, 1:4] 1.4999 0.3142 -0.3492 -0.2424 -0.0484 ...
##   .. .. .. ..$ V : num [1:39, 1:4] -1.572 0.768 -1.837 0.759 -1.145 ...
##   .. .. ..$ quali.sup :List of 4
##   .. .. .. ..$ coord : num [1:23, 1:4] 0.0176 -0.0214 0.2674 0.201 0.0219 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:23] &quot;F&quot; &quot;M&quot; &quot;(25,35]&quot; &quot;(35,45]&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ cos2  : num [1:23, 1:4] 0.000377 0.000377 0.013109 0.009838 0.000135 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:23] &quot;F&quot; &quot;M&quot; &quot;(25,35]&quot; &quot;(35,45]&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ v.test: num [1:23, 1:4] 1.78 -1.78 10.49 9.09 1.06 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:23] &quot;F&quot; &quot;M&quot; &quot;(25,35]&quot; &quot;(35,45]&quot; ...
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. .. ..$ eta2  : num [1:4, 1:4] 0.000377 0.097479 0.045662 0.128368 0.002153 ...
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Sex&quot; &quot;Age&quot; &quot;Marital status&quot; &quot;Profession&quot;
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. ..$ quanti.sup:List of 1
##   .. .. .. ..$ coord: num [1, 1:4] 0.9753 0.198 0.0126 -0.0581
##   .. .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. .. ..$ : chr &quot;nb.activitees&quot;
##   .. .. .. .. .. ..$ : chr [1:4] &quot;Dim 1&quot; &quot;Dim 2&quot; &quot;Dim 3&quot; &quot;Dim 4&quot;
##   .. .. ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;MCA&quot; &quot;list&quot;
##   .. ..$ tree      :List of 7
##   .. .. ..$ merge      : int [1:8402, 1:2] -1 -3 -4 -5 -6 -7 -8 -9 -10 -11 ...
##   .. .. ..$ height     : num [1:8402] 0 0 0 0 0 0 0 0 0 0 ...
##   .. .. ..$ order      : int [1:8403] 8219 7838 7939 7598 8036 7992 7993 8071 8060 8005 ...
##   .. .. ..$ labels     : chr [1:8403] &quot;11023410&quot; &quot;22031210&quot; &quot;22032610&quot; &quot;23010810&quot; ...
##   .. .. ..$ method     : chr &quot;ward&quot;
##   .. .. ..$ call       : language flashClust::hclust(d = dissi, method = method, members = weight)
##   .. .. ..$ dist.method: chr &quot;euclidean&quot;
##   .. .. ..- attr(*, &quot;class&quot;)= chr &quot;hclust&quot;
##   .. ..$ nb.clust  : num 3
##   .. ..$ within    : num [1:8402] 0.413 0.298 0.264 0.234 0.215 ...
##   .. ..$ inert.gain: num [1:8402] 0.1148 0.0343 0.0302 0.0193 0.0174 ...
##   .. ..$ quot      : num [1:8] 0.885 0.886 0.918 0.919 0.927 ...
##   ..$ min             : num 3
##   ..$ max             : num 10
##   ..$ X               :&#39;data.frame&#39;: 8403 obs. of  5 variables:
##   .. ..$ Dim 1: num [1:8403] -0.791 -0.791 -0.791 -0.791 -0.791 ...
##   .. ..$ Dim 2: num [1:8403] -0.247 -0.247 -0.247 -0.247 -0.247 ...
##   .. ..$ Dim 3: num [1:8403] 0.108 0.108 0.108 0.108 0.108 ...
##   .. ..$ Dim 4: num [1:8403] 0.476 0.476 0.476 0.476 0.476 ...
##   .. ..$ clust: Factor w/ 5 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ bw.before.consol: num 0.199
##   ..$ bw.after.consol : num 0.236
##   ..$ vec             : logi FALSE
##   ..$ call            : language HCPC(res = acm, nb.clust = 5, graph = F)
##  $ desc.ind  :List of 2
##   ..$ para:List of 5
##   .. ..$ 1: Named num [1:5] 0.0645 0.0645 0.0701 0.0961 0.0972
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;41006010&quot; &quot;91003910&quot; &quot;82113010&quot; &quot;31002210&quot; ...
##   .. ..$ 2: Named num [1:5] 0.0936 0.101 0.1154 0.1208 0.1242
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;42002410&quot; &quot;21071410&quot; &quot;52008610&quot; &quot;22012510&quot; ...
##   .. ..$ 3: Named num [1:5] 0.0512 0.0901 0.0981 0.1019 0.1112
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;82040110&quot; &quot;93019310&quot; &quot;73031510&quot; &quot;21070410&quot; ...
##   .. ..$ 4: Named num [1:5] 0.0518 0.0737 0.0797 0.0813 0.0845
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;43035410&quot; &quot;53020410&quot; &quot;26012910&quot; &quot;52011810&quot; ...
##   .. ..$ 5: Named num [1:5] 0.0588 0.1004 0.1088 0.1151 0.1162
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;53003910&quot; &quot;31006410&quot; &quot;24015110&quot; &quot;93102910&quot; ...
##   .. ..- attr(*, &quot;dim&quot;)= int 5
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 1
##   .. .. ..$ Cluster: chr [1:5] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. ..- attr(*, &quot;call&quot;)= language by.data.frame(data = tabInd, INDICES = cluster, FUN = select, default.size = nb.par,      method = metric, coord.| __truncated__
##   .. ..- attr(*, &quot;class&quot;)= chr &quot;by&quot;
##   ..$ dist:List of 5
##   .. ..$ 1: Named num [1:5] 1.15 1.15 1.14 1.13 1.12
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;11095510&quot; &quot;22033810&quot; &quot;54026710&quot; &quot;93109510&quot; ...
##   .. ..$ 2: Named num [1:5] 1.2 1.13 1.08 1.03 1.02
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;43026910&quot; &quot;42019410&quot; &quot;74018410&quot; &quot;93049110&quot; ...
##   .. ..$ 3: Named num [1:5] 1.17 1.13 1.13 1.11 1.11
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;53059510&quot; &quot;22000410&quot; &quot;24042510&quot; &quot;93105810&quot; ...
##   .. ..$ 4: Named num [1:5] 0.925 0.906 0.9 0.872 0.871
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;93107010&quot; &quot;31040115&quot; &quot;24049910&quot; &quot;24063610&quot; ...
##   .. ..$ 5: Named num [1:5] 1.42 1.4 1.4 1.34 1.33
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;82007410&quot; &quot;82017110&quot; &quot;91048110&quot; &quot;93122510&quot; ...
##   .. ..- attr(*, &quot;dim&quot;)= int 5
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 1
##   .. .. ..$ Cluster: chr [1:5] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. ..- attr(*, &quot;call&quot;)= language by.data.frame(data = tabInd, INDICES = cluster, FUN = distinctivness,      default.size = nb.par, method = metric| __truncated__ ...
##   .. ..- attr(*, &quot;class&quot;)= chr &quot;by&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;HCPC&quot;</code></pre>
<div id="determination-du-nombre-de-classes" class="section level3">
<h3><span class="header-section-number">7.2.1</span> Détermination du nombre de classes</h3>
<p>Pour déterminer le nombre optimal de classes, on regarde la perte d’inertie inter-classes (pour ça, il faut lancer une première fois la commande avec un nombre arbitraire de classes). En effet, on part d’une situation où il n’y a que de l’inertie inter-classes (chaque classe comprenant un seul individu, il n’y a pas d’inertie intra-classe). Au fur et à mesure des regroupements, on va donc perdre en inertie inter-classes, jusqu’à la dernière étape où il y a une classe avec tous les individus et donc plus d’inertie inter. Le but du jeu consiste à “stopper” l’aggrégation avant de perdre une forte quantité d’inertie inter-classe. On s’intéresse au dernières étapes pour ne pas alourdir le graphique (et on prendra un nombre de classe inférieur à 20 en général, sinon, ce n’est pas très opérationnel…). Ce diagramme ressemble très fortement à l’éboulis des valeurs propres, et on cherche à peu près la même chose (un saut).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(hc<span class="op">$</span>call<span class="op">$</span>t<span class="op">$</span>inert.gain[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>],<span class="dt">horiz =</span> T,<span class="dt">main=</span><span class="st">&quot;Gain d&#39;inertie intra sur les 20 dernières agrégations &quot;</span>,
          <span class="dt">col=</span><span class="st">&quot;lightblue&quot;</span>,<span class="dt">border =</span> <span class="st">&quot;grey&quot;</span>)</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-38-1.png" width="576" /></p>
<p>Autre représentation : le dendogramme représente les étapes d’agrégation. La auteur des branches représente la perte d’inertie inter-classe (ou le gain d’inertie intra)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(hc, <span class="dt">choice =</span><span class="st">&quot;tree&quot;</span>)</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-39-1.png" width="576" /></p>
</div>
<div id="description-des-classes" class="section level3">
<h3><span class="header-section-number">7.2.2</span> Description des classes</h3>
<p>Une fois que l’on a déterminé le nombre de classes, il reste à les décrire. Premier outil : le tableau croisé pour voir la taille de chacun.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span> (hc<span class="op">$</span>data.clust<span class="op">$</span>clust)</code></pre></div>
<pre><code>## 
##    1    2    3    4    5 
## 2209 1431 1278 1713 1772</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hc<span class="op">$</span>desc.var<span class="op">$</span>category<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span>
hc<span class="op">$</span>desc.ind<span class="op">$</span>para</code></pre></div>
<ul>
<li>cla/mod indique quelle part (pourcentage) de tous les individus présentant cette modalité se retrouve dans cette classe</li>
<li>mod/cla indique quelle part (pourcentage) de tous les individus de la classe présentent cette modalité.</li>
<li>Les parangons sont les individus les plus représentatifs de la classe</li>
</ul>
<p>Visualisation du dendogrades classes sur les axes factoriels</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(hc, <span class="dt">choice =</span><span class="st">&quot;3D.map&quot;</span>)</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/plot_hc-1.png" width="576" /></p>
</div>
<div id="quelques-conseils-pratiques" class="section level3">
<h3><span class="header-section-number">7.2.3</span> Quelques conseils pratiques</h3>
<p>Le but d’un classification est d’obtenir des groupes d’individus qui “parlent” (c’est un outils de communication puissant) ; l’application des méthodes à la lettre peut ne pas aboutir à un tel résultat. On peut alors jouer sur différents paramètres :</p>
<ul>
<li>Les variables mobilisées</li>
<li>Le nombre de classes</li>
<li>La distance</li>
<li>La méthode d’agrégation</li>
<li>Utiliser une méthode non hiérarchique (exemple : <code>kmeans</code>) <span class="math inline">\(\rightarrow\)</span> pour “consolider” la CAH avec cette méthode (permet de minimiser la variance intra)</li>
</ul>
<p>Remarque importante : l’algorithme est très coûteux et est très lent quand le nombre d’individus est important. On peut alors réduire le nombre d’individus initial en procédant au préalable à une classification avec kmeans. La fonction <code>HCPC</code> permet de le faire avec le paramètre kk=.</p>
<p>Il faut ensuite donner un nom aux classes (pas uniquement les décrire) : attention aux termes utilisés !</p>
</div>
</div>
<div id="exercice-3" class="section level2">
<h2><span class="header-section-number">7.3</span> Exercice</h2>
<p>Reprendre la base de données sur les iris et réaliser une classification des 150 fleurs</p>
<ul>
<li>Avec kmeans</li>
<li>Avec une CAH</li>
<li>Que peut-on dire des résultats et leur lien avec la variable Species ?</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hc.iris &lt;-<span class="st"> </span><span class="kw">HCPC</span> (acp.iris, <span class="dt">nb.clust =</span> <span class="dv">3</span>)</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-42-1.png" width="576" /><img src="exploration_avancee_files/figure-html/unnamed-chunk-42-2.png" width="576" /><img src="exploration_avancee_files/figure-html/unnamed-chunk-42-3.png" width="576" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">kmeans.iris &lt;-<span class="st"> </span><span class="kw">kmeans</span> (acp.iris<span class="op">$</span>ind<span class="op">$</span>coord, <span class="dt">centers =</span> <span class="dv">3</span>)
res.iris &lt;-<span class="st"> </span><span class="kw">data.frame</span> (acp.iris<span class="op">$</span>ind<span class="op">$</span>coord, <span class="dt">classe =</span> <span class="kw">as.factor</span> (kmeans.iris<span class="op">$</span>cluster),
                       <span class="dt">Species =</span> iris<span class="op">$</span>Species)

<span class="kw">ggplot</span> (res.iris, <span class="kw">aes</span> (<span class="dt">x =</span> Dim.<span class="dv">1</span>, <span class="dt">y =</span> Dim.<span class="dv">2</span>, <span class="dt">color =</span> classe)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span> ()</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-42-4.png" width="576" /></p>
<p>On compare à la vraie classe. Conclusion : la nature est mal faite…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># La vraie classe :</span>

<span class="kw">ggplot</span> (res.iris, <span class="kw">aes</span> (<span class="dt">x =</span> Dim.<span class="dv">1</span>, <span class="dt">y =</span> Dim.<span class="dv">2</span>, <span class="dt">color =</span> Species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span> ()</code></pre></div>
<p><img src="exploration_avancee_files/figure-html/unnamed-chunk-43-1.png" width="576" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lacm.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-Clustering.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["exploration_avancee.pdf", "exploration_avancee.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
