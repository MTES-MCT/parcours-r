<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 11 Les facettes | Valoriser ses données avec R</title>
  <meta name="description" content="Le support de la formation sur la valorisation des données sous R" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 11 Les facettes | Valoriser ses données avec R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Le support de la formation sur la valorisation des données sous R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 11 Les facettes | Valoriser ses données avec R" />
  
  <meta name="twitter:description" content="Le support de la formation sur la valorisation des données sous R" />
  

<meta name="author" content="Maël Theulière &amp; Murielle Lethrosne" />


<meta name="date" content="2019-08-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="la-mise-en-page-de-plusieurs-graphiques.html">
<link rel="next" href="exporter-un-graphique.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
<link href="libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
<script src="libs/highcharts-7.0.1/highcharts.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-3d.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-more.js"></script>
<script src="libs/highcharts-7.0.1/modules/stock.js"></script>
<script src="libs/highcharts-7.0.1/modules/map.js"></script>
<script src="libs/highcharts-7.0.1/modules/annotations.js"></script>
<script src="libs/highcharts-7.0.1/modules/boost.js"></script>
<script src="libs/highcharts-7.0.1/modules/data.js"></script>
<script src="libs/highcharts-7.0.1/modules/drag-panes.js"></script>
<script src="libs/highcharts-7.0.1/modules/drilldown.js"></script>
<script src="libs/highcharts-7.0.1/modules/item-series.js"></script>
<script src="libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-7.0.1/modules/exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/export-data.js"></script>
<script src="libs/highcharts-7.0.1/modules/funnel.js"></script>
<script src="libs/highcharts-7.0.1/modules/heatmap.js"></script>
<script src="libs/highcharts-7.0.1/modules/treemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/sankey.js"></script>
<script src="libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-7.0.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-7.0.1/modules/sunburst.js"></script>
<script src="libs/highcharts-7.0.1/modules/vector.js"></script>
<script src="libs/highcharts-7.0.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-7.0.1/modules/xrange.js"></script>
<script src="libs/highcharts-7.0.1/modules/tilemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/venn.js"></script>
<script src="libs/highcharts-7.0.1/modules/gantt.js"></script>
<script src="libs/highcharts-7.0.1/modules/timeline.js"></script>
<script src="libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
<script src="libs/highcharts-7.0.1/plugins/motion.js"></script>
<script src="libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
<script src="libs/highcharts-7.0.1/custom/reset.js"></script>
<script src="libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
<script src="libs/highcharts-7.0.1/custom/text-symbols.js"></script>
<script src="libs/highchart-binding-0.7.0/highchart.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><p style="text-align:center;"><img src="../assets/images/logo_marianne_fond_blanc.png" style="width:100px;"/></p></li>
<li><a href="./">Valoriser ses données avec R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="un-typologie-des-representations-graphiques.html"><a href="un-typologie-des-representations-graphiques.html"><i class="fa fa-check"></i><b>2</b> Un typologie des représentations graphiques</a></li>
<li class="chapter" data-level="3" data-path="bien-commencer.html"><a href="bien-commencer.html"><i class="fa fa-check"></i><b>3</b> Bien commencer</a><ul>
<li class="chapter" data-level="3.1" data-path="bien-commencer.html"><a href="bien-commencer.html#creer-un-projet-sous-rstudio-pour-vous-permettre-de-recencer-vos-travaux."><i class="fa fa-check"></i><b>3.1</b> Créer un projet sous Rstudio pour vous permettre de recencer vos travaux.</a></li>
<li class="chapter" data-level="3.2" data-path="bien-commencer.html"><a href="bien-commencer.html#integrer-vos-donnees"><i class="fa fa-check"></i><b>3.2</b> Intégrer vos données</a></li>
<li class="chapter" data-level="3.3" data-path="bien-commencer.html"><a href="bien-commencer.html#creer-votre-arborescence-de-projet"><i class="fa fa-check"></i><b>3.3</b> Créer votre arborescence de projet</a></li>
<li class="chapter" data-level="3.4" data-path="bien-commencer.html"><a href="bien-commencer.html#activer-les-packages-necessaires"><i class="fa fa-check"></i><b>3.4</b> Activer les packages nécessaires</a></li>
<li class="chapter" data-level="3.5" data-path="bien-commencer.html"><a href="bien-commencer.html#bien-structurer-ses-projets-data"><i class="fa fa-check"></i><b>3.5</b> Bien structurer ses projets data</a></li>
</ul></li>
<li class="part"><span><b>I Créer des graphiques sous R avec ggplot 2</b></span></li>
<li class="chapter" data-level="4" data-path="presentation-du-package-ggplot2.html"><a href="presentation-du-package-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Présentation du package ggplot2</a><ul>
<li class="chapter" data-level="4.1" data-path="presentation-du-package-ggplot2.html"><a href="presentation-du-package-ggplot2.html#ggplot2"><i class="fa fa-check"></i><b>4.1</b> ggplot2</a></li>
<li class="chapter" data-level="4.2" data-path="presentation-du-package-ggplot2.html"><a href="presentation-du-package-ggplot2.html#le-tidyverse"><i class="fa fa-check"></i><b>4.2</b> Le Tidyverse</a></li>
<li class="chapter" data-level="4.3" data-path="presentation-du-package-ggplot2.html"><a href="presentation-du-package-ggplot2.html#ggplot-2-les-concepts-clefs"><i class="fa fa-check"></i><b>4.3</b> ggplot 2 : les concepts clefs</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="le-mapping.html"><a href="le-mapping.html"><i class="fa fa-check"></i><b>5</b> Le mapping</a><ul>
<li class="chapter" data-level="5.1" data-path="le-mapping.html"><a href="le-mapping.html#les-parametres-du-mapping"><i class="fa fa-check"></i><b>5.1</b> Les paramètres du mapping</a></li>
<li class="chapter" data-level="5.2" data-path="le-mapping.html"><a href="le-mapping.html#les-autres-parametres"><i class="fa fa-check"></i><b>5.2</b> Les “autres” paramètres</a></li>
<li class="chapter" data-level="5.3" data-path="le-mapping.html"><a href="le-mapping.html#exercice-1"><i class="fa fa-check"></i><b>5.3</b> Exercice 1</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="les-formes-geometriques.html"><a href="les-formes-geometriques.html"><i class="fa fa-check"></i><b>6</b> Les formes géométriques</a></li>
<li class="chapter" data-level="7" data-path="lhabillage-simple.html"><a href="lhabillage-simple.html"><i class="fa fa-check"></i><b>7</b> L’habillage simple</a><ul>
<li class="chapter" data-level="7.1" data-path="lhabillage-simple.html"><a href="lhabillage-simple.html#titre-et-libelle-des-axes"><i class="fa fa-check"></i><b>7.1</b> Titre et libellé des axes</a></li>
<li class="chapter" data-level="7.2" data-path="lhabillage-simple.html"><a href="lhabillage-simple.html#legende"><i class="fa fa-check"></i><b>7.2</b> Légende</a></li>
<li class="chapter" data-level="7.3" data-path="lhabillage-simple.html"><a href="lhabillage-simple.html#annotation"><i class="fa fa-check"></i><b>7.3</b> Annotation</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="les-themes.html"><a href="les-themes.html"><i class="fa fa-check"></i><b>8</b> Les thèmes</a><ul>
<li class="chapter" data-level="8.1" data-path="les-themes.html"><a href="les-themes.html#les-fonctions-element"><i class="fa fa-check"></i><b>8.1</b> Les fonctions “élément”</a></li>
<li class="chapter" data-level="8.2" data-path="les-themes.html"><a href="les-themes.html#les-composantes"><i class="fa fa-check"></i><b>8.2</b> Les composantes</a></li>
<li class="chapter" data-level="8.3" data-path="les-themes.html"><a href="les-themes.html#quelques-exemples"><i class="fa fa-check"></i><b>8.3</b> Quelques exemples</a></li>
<li class="chapter" data-level="8.4" data-path="les-themes.html"><a href="les-themes.html#modifier-le-theme-par-defaut."><i class="fa fa-check"></i><b>8.4</b> Modifier le thème par défaut.</a></li>
<li class="chapter" data-level="8.5" data-path="les-themes.html"><a href="les-themes.html#creer-son-propre-theme"><i class="fa fa-check"></i><b>8.5</b> Créer son propre thème</a></li>
<li class="chapter" data-level="8.6" data-path="les-themes.html"><a href="les-themes.html#exercice-2"><i class="fa fa-check"></i><b>8.6</b> Exercice 2</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="les-scales.html"><a href="les-scales.html"><i class="fa fa-check"></i><b>9</b> Les scales</a><ul>
<li class="chapter" data-level="9.1" data-path="les-scales.html"><a href="les-scales.html#formatage-specifique"><i class="fa fa-check"></i><b>9.1</b> Formatage spécifique</a></li>
<li class="chapter" data-level="9.2" data-path="les-scales.html"><a href="les-scales.html#exercice-3"><i class="fa fa-check"></i><b>9.2</b> Exercice 3</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="la-mise-en-page-de-plusieurs-graphiques.html"><a href="la-mise-en-page-de-plusieurs-graphiques.html"><i class="fa fa-check"></i><b>10</b> La mise en page de plusieurs graphiques</a></li>
<li class="chapter" data-level="11" data-path="les-facettes.html"><a href="les-facettes.html"><i class="fa fa-check"></i><b>11</b> Les facettes</a><ul>
<li class="chapter" data-level="11.1" data-path="les-facettes.html"><a href="les-facettes.html#exercice-4"><i class="fa fa-check"></i><b>11.1</b> Exercice 4</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="exporter-un-graphique.html"><a href="exporter-un-graphique.html"><i class="fa fa-check"></i><b>12</b> Exporter un graphique</a></li>
<li class="part"><span><b>II Créer des cartes sous R</b></span></li>
<li class="chapter" data-level="13" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html"><i class="fa fa-check"></i><b>13</b> Créer des cartes avec ggplot2, tmap</a><ul>
<li class="chapter" data-level="13.1" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#faire-des-cartes-avec-ggplot2"><i class="fa fa-check"></i><b>13.1</b> Faire des cartes avec ggplot2</a><ul>
<li class="chapter" data-level="13.1.1" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#les-cartes-choroplethe"><i class="fa fa-check"></i><b>13.1.1</b> Les cartes choroplèthe</a></li>
<li class="chapter" data-level="13.1.2" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#les-cartes-a-ronds-proportionnels"><i class="fa fa-check"></i><b>13.1.2</b> Les cartes à ronds proportionnels</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#les-cartes-avec-tmap"><i class="fa fa-check"></i><b>13.2</b> Les cartes avec Tmap</a><ul>
<li class="chapter" data-level="13.2.1" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#exemple-de-carte-choroplethe"><i class="fa fa-check"></i><b>13.2.1</b> Exemple de carte choroplèthe</a></li>
<li class="chapter" data-level="13.2.2" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#exemple-de-carte-a-ronds-proportionnels"><i class="fa fa-check"></i><b>13.2.2</b> Exemple de carte à ronds proportionnels</a></li>
<li class="chapter" data-level="13.2.3" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#exemples-de-cartes-avec-facet"><i class="fa fa-check"></i><b>13.2.3</b> Exemples de cartes avec facet</a></li>
<li class="chapter" data-level="13.2.4" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#gestion-des-palettes"><i class="fa fa-check"></i><b>13.2.4</b> gestion des palettes</a></li>
<li class="chapter" data-level="13.2.5" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#la-mise-en-page"><i class="fa fa-check"></i><b>13.2.5</b> La mise en page</a></li>
<li class="chapter" data-level="13.2.6" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#export-dun-graphique"><i class="fa fa-check"></i><b>13.2.6</b> Export d’un graphique</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="creer-des-cartes-avec-ggplot2-tmap.html"><a href="creer-des-cartes-avec-ggplot2-tmap.html#exercice-5"><i class="fa fa-check"></i><b>13.3</b> Exercice 5</a></li>
</ul></li>
<li class="part"><span><b>III Créer des cartes sous R</b></span></li>
<li class="chapter" data-level="14" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html"><i class="fa fa-check"></i><b>14</b> Créer des cartes avec ggplot2 et tmap</a><ul>
<li class="chapter" data-level="14.1" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#faire-des-cartes-avec-ggplot2-1"><i class="fa fa-check"></i><b>14.1</b> Faire des cartes avec ggplot2</a><ul>
<li class="chapter" data-level="14.1.1" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#les-cartes-choroplethe-1"><i class="fa fa-check"></i><b>14.1.1</b> Les cartes choroplèthe</a></li>
<li class="chapter" data-level="14.1.2" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#les-cartes-a-ronds-proportionnels-1"><i class="fa fa-check"></i><b>14.1.2</b> Les cartes à ronds proportionnels</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#les-cartes-avec-tmap-1"><i class="fa fa-check"></i><b>14.2</b> Les cartes avec tmap</a><ul>
<li class="chapter" data-level="14.2.1" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#exemple-de-carte-choroplethe-1"><i class="fa fa-check"></i><b>14.2.1</b> Exemple de carte choroplèthe</a></li>
<li class="chapter" data-level="14.2.2" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#exemple-de-carte-a-ronds-proportionnels-1"><i class="fa fa-check"></i><b>14.2.2</b> Exemple de carte à ronds proportionnels</a></li>
<li class="chapter" data-level="14.2.3" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#exemples-de-cartes-avec-facet-1"><i class="fa fa-check"></i><b>14.2.3</b> Exemples de cartes avec facet</a></li>
<li class="chapter" data-level="14.2.4" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#gestion-des-palettes-1"><i class="fa fa-check"></i><b>14.2.4</b> gestion des palettes</a></li>
<li class="chapter" data-level="14.2.5" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#la-mise-en-page-1"><i class="fa fa-check"></i><b>14.2.5</b> La mise en page</a></li>
<li class="chapter" data-level="14.2.6" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#exporter-une-carte-tmap"><i class="fa fa-check"></i><b>14.2.6</b> Exporter une carte tmap</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="creer-des-cartes-avec-ggplot2-et-tmap.html"><a href="creer-des-cartes-avec-ggplot2-et-tmap.html#exercice-5-1"><i class="fa fa-check"></i><b>14.3</b> Exercice 5</a></li>
</ul></li>
<li class="part"><span><b>IV Graphiques animés</b></span></li>
<li class="chapter" data-level="15" data-path="animer-ses-graphiques-ggplot-avec-gganimate.html"><a href="animer-ses-graphiques-ggplot-avec-gganimate.html"><i class="fa fa-check"></i><b>15</b> Animer ses graphiques ggplot avec gganimate</a><ul>
<li class="chapter" data-level="15.1" data-path="animer-ses-graphiques-ggplot-avec-gganimate.html"><a href="animer-ses-graphiques-ggplot-avec-gganimate.html#produire-une-animation"><i class="fa fa-check"></i><b>15.1</b> Produire une animation</a></li>
<li class="chapter" data-level="15.2" data-path="animer-ses-graphiques-ggplot-avec-gganimate.html"><a href="animer-ses-graphiques-ggplot-avec-gganimate.html#parametrer-lanimation"><i class="fa fa-check"></i><b>15.2</b> Paramétrer l’animation</a></li>
<li class="chapter" data-level="15.3" data-path="animer-ses-graphiques-ggplot-avec-gganimate.html"><a href="animer-ses-graphiques-ggplot-avec-gganimate.html#exporter-une-animation"><i class="fa fa-check"></i><b>15.3</b> Exporter une animation</a></li>
<li class="chapter" data-level="15.4" data-path="animer-ses-graphiques-ggplot-avec-gganimate.html"><a href="animer-ses-graphiques-ggplot-avec-gganimate.html#exercice-6"><i class="fa fa-check"></i><b>15.4</b> Exercice 6</a></li>
</ul></li>
<li class="part"><span><b>V Dataviz pour le web</b></span></li>
<li class="chapter" data-level="16" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html"><i class="fa fa-check"></i><b>16</b> Créer des graphiques et cartes pour le web</a><ul>
<li class="chapter" data-level="16.1" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html#highcharter"><i class="fa fa-check"></i><b>16.1</b> Highcharter</a><ul>
<li class="chapter" data-level="16.1.1" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html#exemple-type-de-graphique"><i class="fa fa-check"></i><b>16.1.1</b> Exemple type de graphique</a></li>
<li class="chapter" data-level="16.1.2" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html#les-facettes-1"><i class="fa fa-check"></i><b>16.1.2</b> Les facettes</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html#les-cartes-leaflet"><i class="fa fa-check"></i><b>16.2</b> Les cartes Leaflet</a></li>
<li class="chapter" data-level="16.3" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html#exporter-une-sortie-html"><i class="fa fa-check"></i><b>16.3</b> Exporter une sortie html</a></li>
<li class="chapter" data-level="16.4" data-path="creer-des-graphiques-et-cartes-pour-le-web.html"><a href="creer-des-graphiques-et-cartes-pour-le-web.html#exercice-7"><i class="fa fa-check"></i><b>16.4</b> Exercice 7</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="creer-des-tableaux-avec-kable-et-kable-extra.html"><a href="creer-des-tableaux-avec-kable-et-kable-extra.html"><i class="fa fa-check"></i><b>17</b> Créer des tableaux avec kable et kable extra</a><ul>
<li class="chapter" data-level="17.1" data-path="creer-des-tableaux-avec-kable-et-kable-extra.html"><a href="creer-des-tableaux-avec-kable-et-kable-extra.html#exercice-8"><i class="fa fa-check"></i><b>17.1</b> Exercice 8</a></li>
</ul></li>
<li class="part"><span><b>VI Ressources et correction</b></span></li>
<li class="chapter" data-level="18" data-path="ressources.html"><a href="ressources.html"><i class="fa fa-check"></i><b>18</b> ressources</a><ul>
<li class="chapter" data-level="18.1" data-path="ressources.html"><a href="ressources.html#dataviz"><i class="fa fa-check"></i><b>18.1</b> dataviz</a></li>
<li class="chapter" data-level="18.2" data-path="ressources.html"><a href="ressources.html#ggplot2-1"><i class="fa fa-check"></i><b>18.2</b> ggplot2</a></li>
<li class="chapter" data-level="18.3" data-path="ressources.html"><a href="ressources.html#tmap"><i class="fa fa-check"></i><b>18.3</b> tmap</a></li>
<li class="chapter" data-level="18.4" data-path="ressources.html"><a href="ressources.html#highcharter-1"><i class="fa fa-check"></i><b>18.4</b> highcharter</a></li>
<li class="chapter" data-level="18.5" data-path="ressources.html"><a href="ressources.html#kable-et-kableextra"><i class="fa fa-check"></i><b>18.5</b> kable et kableExtra</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html"><i class="fa fa-check"></i><b>19</b> Exercices et corrections</a><ul>
<li class="chapter" data-level="19.1" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-1-1"><i class="fa fa-check"></i><b>19.1</b> Exercice 1</a></li>
<li class="chapter" data-level="19.2" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-2-1"><i class="fa fa-check"></i><b>19.2</b> Exercice 2</a></li>
<li class="chapter" data-level="19.3" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-3-1"><i class="fa fa-check"></i><b>19.3</b> Exercice 3</a></li>
<li class="chapter" data-level="19.4" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-4-1"><i class="fa fa-check"></i><b>19.4</b> Exercice 4</a></li>
<li class="chapter" data-level="19.5" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-5-2"><i class="fa fa-check"></i><b>19.5</b> Exercice 5</a></li>
<li class="chapter" data-level="19.6" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-6-1"><i class="fa fa-check"></i><b>19.6</b> Exercice 6</a></li>
<li class="chapter" data-level="19.7" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-7-1"><i class="fa fa-check"></i><b>19.7</b> Exercice 7</a></li>
<li class="chapter" data-level="19.8" data-path="exercices-et-corrections.html"><a href="exercices-et-corrections.html#exercice-8-1"><i class="fa fa-check"></i><b>19.8</b> Exercice 8</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://mtes-mct.github.io/parcours-r/" target="blank">Liste des formations R</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Valoriser ses données avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="les-facettes" class="section level1">
<h1><span class="header-section-number">Chapitre 11</span> Les facettes</h1>
<p>Lorsque l’on veut pouvoir réaliser un graphique pour plusieurs sous ensemble, les facettes sont alors très utiles. On va ici l’illustrer avec la réalisation du même graphique ci dessus mais pour plusieurs années différentes.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">indicateur311 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(Type_Zone <span class="op">!=</span><span class="st"> &quot;Pays&quot;</span>,</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">         Age_group<span class="op">==</span><span class="st">&quot;All age ranges or no breakdown by age&quot;</span>,</a>
<a class="sourceLine" id="cb30-4" data-line-number="4">         Sex<span class="op">==</span><span class="st">&quot;Both sexes or no breakdown by sex&quot;</span>,</a>
<a class="sourceLine" id="cb30-5" data-line-number="5">         Location<span class="op">==</span><span class="st">&quot;Total (national level)&quot;</span>,</a>
<a class="sourceLine" id="cb30-6" data-line-number="6">         <span class="kw">is.na</span>(Value_type)</a>
<a class="sourceLine" id="cb30-7" data-line-number="7">         ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-8" data-line-number="8"><span class="st">  </span><span class="kw">filter</span>(Year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2000</span>,<span class="dv">2005</span>,<span class="dv">2010</span>,<span class="dv">2015</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Country_or_Area_Name,<span class="dt">weight=</span>Value,<span class="dt">fill=</span>Country_or_Area_Name))<span class="op">+</span></a>
<a class="sourceLine" id="cb30-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_ipsum</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb30-12" data-line-number="12"><span class="st">  </span><span class="kw">scale_fill_ipsum</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb30-13" data-line-number="13"><span class="st">  </span><span class="kw">coord_flip</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb30-14" data-line-number="14"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Mortalité maternelle sur quelques zones du globe&quot;</span>,</a>
<a class="sourceLine" id="cb30-15" data-line-number="15">       <span class="dt">subtitle=</span><span class="st">&quot;En 2015&quot;</span>,</a>
<a class="sourceLine" id="cb30-16" data-line-number="16">       <span class="dt">y=</span><span class="st">&quot;Taux de mortalité de la mère </span><span class="ch">\n</span><span class="st">(pour 100 000 naissances)&quot;</span>,</a>
<a class="sourceLine" id="cb30-17" data-line-number="17">       <span class="dt">x=</span><span class="st">&quot;Zone&quot;</span>,</a>
<a class="sourceLine" id="cb30-18" data-line-number="18">       <span class="dt">fill=</span><span class="st">&quot;Zone&quot;</span></a>
<a class="sourceLine" id="cb30-19" data-line-number="19">  )<span class="op">+</span></a>
<a class="sourceLine" id="cb30-20" data-line-number="20"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb30-21" data-line-number="21"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Year)</a></code></pre></div>
<p><img src="Valorisation-des-donn%C3%A9es_files/figure-html/unnamed-chunk-34-1.png" width="768" /></p>
<p>L’exemple pris ici “scinde” notre table en fonction d’une seule variable, mais on peut le faire sur plusieurs variables également.</p>
<p>On peut choisir avec facet_wrap :
- le nombre de colonnes ou de ligne sur lesquel on veut voir s’afficher le graphique
- si on veut fixer l’échelle de l’un ou l’autre des axes ou les deux</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">indicateur311 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(Type_Zone <span class="op">!=</span><span class="st"> &quot;Pays&quot;</span>,</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">         Age_group<span class="op">==</span><span class="st">&quot;All age ranges or no breakdown by age&quot;</span>,</a>
<a class="sourceLine" id="cb31-4" data-line-number="4">         Sex<span class="op">==</span><span class="st">&quot;Both sexes or no breakdown by sex&quot;</span>,</a>
<a class="sourceLine" id="cb31-5" data-line-number="5">         Location<span class="op">==</span><span class="st">&quot;Total (national level)&quot;</span>,</a>
<a class="sourceLine" id="cb31-6" data-line-number="6">         <span class="kw">is.na</span>(Value_type)</a>
<a class="sourceLine" id="cb31-7" data-line-number="7">         ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="st">  </span><span class="kw">filter</span>(Year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2000</span>,<span class="dv">2005</span>,<span class="dv">2010</span>,<span class="dv">2015</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Country_or_Area_Name,<span class="dt">weight=</span>Value,<span class="dt">fill=</span>Country_or_Area_Name))<span class="op">+</span></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_ipsum</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="st">  </span><span class="kw">scale_fill_ipsum</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb31-13" data-line-number="13"><span class="st">  </span><span class="kw">coord_flip</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb31-14" data-line-number="14"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Mortalité maternelle sur quelques zones du globe&quot;</span>,</a>
<a class="sourceLine" id="cb31-15" data-line-number="15">       <span class="dt">subtitle=</span><span class="st">&quot;En 2015&quot;</span>,</a>
<a class="sourceLine" id="cb31-16" data-line-number="16">       <span class="dt">y=</span><span class="st">&quot;Taux de mortalité de la mère </span><span class="ch">\n</span><span class="st">(pour 100 000 naissances)&quot;</span>,</a>
<a class="sourceLine" id="cb31-17" data-line-number="17">       <span class="dt">x=</span><span class="st">&quot;Zone&quot;</span>,</a>
<a class="sourceLine" id="cb31-18" data-line-number="18">       <span class="dt">fill=</span><span class="st">&quot;Zone&quot;</span></a>
<a class="sourceLine" id="cb31-19" data-line-number="19">  )<span class="op">+</span></a>
<a class="sourceLine" id="cb31-20" data-line-number="20"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb31-21" data-line-number="21"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Year,<span class="dt">ncol=</span><span class="dv">4</span>)</a></code></pre></div>
<p><img src="Valorisation-des-donn%C3%A9es_files/figure-html/unnamed-chunk-35-1.png" width="1152" /></p>
<div id="exercice-4" class="section level2">
<h2><span class="header-section-number">11.1</span> Exercice 4</h2>
<blockquote>
<p>A partir de la table rpls_aggrege, réaliser une facette sur un diagramme barre avec :</p>
<ul>
<li>en variable discrète les régions</li>
<li>en variables continues les indicateurs suivants :
<ul>
<li>% de logements de 3 et 4 pièces</li>
<li>% DPE énergie A,B,C</li>
<li>% DPE GES A,B,C</li>
<li>% de parc de moins de 5 ans</li>
</ul></li>
<li>une façon d’identifier la région Pays de la Loire</li>
</ul>
</blockquote>
<p>Pour avoir la liste des modalités dune variable :</p>
<ul>
<li>Variables caractères ou factorielles :</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">unique</span>(rpls_aggrege<span class="op">$</span>Indicateur)</a></code></pre></div>
<ul>
<li>Variables factorielles :</li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">levels</span>(rpls_aggrege<span class="op">$</span>Indicateur)</a></code></pre></div>
<p>Résultat attendu</p>
<p><img src="Valorisation-des-donn%C3%A9es_files/figure-html/unnamed-chunk-38-1.png" width="1152" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="la-mise-en-page-de-plusieurs-graphiques.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exporter-un-graphique.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
